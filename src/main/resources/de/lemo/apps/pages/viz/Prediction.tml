<html t:type="layoutdashboard" title="LeMo | Visualization"
      xmlns:t="http://tapestry.apache.org/schema/tapestry_5_3.xsd"
      xmlns:p="tapestry:parameter">
   <style>

		#viz svg {
		height: 500px;
		width:930px;
		}
	</style>    
  <!-- Breadcrumb component-->
	<div class="row-fluid">
        <div class="span12">
    	<ul class="breadcrumb">
  			<li t:type="crumb/breadcrumbtrail" t:value="breadCrumb">
    			<a t:type="crumb/displaybreadcrumb" t:breadcrumb="breadCrumb" />
  			</li>
		</ul>
		</div>
	</div>
	
	<div class="row-fluid">
		  
    	<div class="span9">
        <div id="viz">
        	<svg></svg>
        	<!-- d3js visualization -->        
        
        </div>
        
        <br/>
        	
    	</div>
      
    	<div class="span3">
    		<t:zone t:id="formZone" id="formZone">
    		</t:zone> 
			<t:ScatterPlotForm />
    	</div>
    	
    
  </div>
<script type="text/javascript">
    (function(d3custom, $, undefined) {

        
      var q2result = ${questionResult};
      
      var locale = ${locale};
      
      d3custom.nodes = q2result.nodes;
      d3custom.links = q2result.links;
	  d3custom.locale = locale;
      
    })(window.d3custom = window.d3custom || {}, jQuery);
    
    
	function changeDesign(){
		nv.graphs[0].xAxis.axisLabel($("#learningObjects option").text());
		nv.graphs[0].update()
	}
	$("#learningObjects option").change(changeDesign());
	<!--http://www.elijahmanor.com/dont-initialize-all-the-things-in-jquery-ready/ -->
</script>
</html>